---
import { Icon } from "astro-icon/components";
---

<button
  id="theme-toggle"
  class="flex w-full items-center justify-center gap-2 rounded-md px-3 py-4 text-sm font-medium text-blue-700 transition-colors duration-200 hover:bg-blue-50 hover:text-blue-900 dark:text-sky-300 dark:hover:bg-sky-900/30 dark:hover:text-sky-100"
  type="button"
  aria-label="Toggle theme"
>
  <!-- Sun icon for light mode -->
  <span class="block dark:hidden">
    <Icon name="mdi:white-balance-sunny" height={20} width={20} />
  </span>
  <!-- Moon icon for dark mode -->
  <span class="hidden dark:block">
    <Icon name="mdi:weather-night" height={20} width={20} />
  </span>
  <span class="hidden md:inline">Theme</span>
</button>

<!-- Theme toggle logic -->
<script>
  document.addEventListener("DOMContentLoaded", () => {
    const toggle = document.getElementById("theme-toggle");
    if (toggle) {
      toggle.addEventListener("click", () => {
        const html = document.documentElement;
        const isDark = html.classList.contains("dark");
        html.classList.remove("light", "dark");
        html.classList.toggle("dark", !isDark);
        localStorage.setItem("theme", isDark ? "light" : "dark");
      });
    }
  });
</script>
