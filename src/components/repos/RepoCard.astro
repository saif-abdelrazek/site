---
import type { RepoType } from "../../types/reposTypes";
import type { LiveDataEntry } from "astro";
interface Props {
  repo: LiveDataEntry<RepoType>;
}

const { repo }: Props = Astro.props;
const { name, description, repolink, website, mainlang } = repo.data;
---

<div
  class="light:bg-blue-50 flex w-full flex-col justify-between rounded-2xl border border-blue-100 p-6 shadow-2xl backdrop-blur-md transition-transform duration-200 hover:-translate-y-2 hover:scale-105 hover:shadow-blue-200/40 dark:border-sky-800 dark:bg-gradient-to-br dark:from-slate-900/80 dark:via-slate-800/80 dark:to-slate-900/60 dark:shadow-2xl dark:backdrop-blur-md dark:hover:shadow-blue-900/40"
>
  <div>
    <h2
      class="mb-2 text-2xl font-extrabold tracking-tight text-blue-700 drop-shadow dark:text-sky-300"
    >
      {name}
    </h2>
    <p class="mb-4 min-h-[48px] text-blue-700/90 dark:text-sky-100/90">
      {description ? description : "No description provided."}
    </p>
  </div>
  <div class="mb-4 flex flex-wrap gap-2">
    {
      website && (
        <a
          href={website}
          target="_blank"
          rel="noopener noreferrer"
          class="rounded-full bg-blue-600 px-4 py-1.5 text-sm font-semibold text-white shadow transition hover:bg-blue-500 dark:bg-sky-900/60 dark:text-sky-100 dark:hover:bg-sky-800/80"
        >
          Website
        </a>
      )
    }
    <a
      href={repolink}
      target="_blank"
      rel="noopener noreferrer"
      class="rounded-full bg-blue-100 px-4 py-1.5 text-sm font-semibold text-blue-700 shadow transition hover:bg-blue-200 dark:bg-sky-900/60 dark:text-sky-100 dark:hover:bg-sky-800/80"
    >
      GitHub Repo
    </a>
  </div>
  {
    mainlang && (
      <div class="mt-2 flex items-center gap-2 text-xs text-blue-500/80 dark:text-sky-200/80">
        <span class="font-semibold tracking-wider uppercase">
          Main Language:
        </span>
        <span class="rounded bg-blue-50 px-2 py-1 font-mono text-blue-700 dark:bg-sky-900/60 dark:text-sky-300">
          {mainlang}
        </span>
      </div>
    )
  }
</div>
